{"remainingRequest":"D:\\work3\\wallet-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work3\\wallet-frontend\\src\\pages\\Dashboard\\transfer.vue?vue&type=style&index=0&id=2d045baa&lang=css&scoped=true&","dependencies":[{"path":"D:\\work3\\wallet-frontend\\src\\pages\\Dashboard\\transfer.vue","mtime":1549628889032},{"path":"D:\\work3\\wallet-frontend\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\work3\\wallet-frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\work3\\wallet-frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\work3\\wallet-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work3\\wallet-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.md-card .md-card-actions{\r\n  border: 0;\r\n  margin-left: 20px;\r\n  margin-right: 20px;\r\n}\r\n.md-table-row{\r\n  height:2px;\r\n}\r\n\r\n",{"version":3,"sources":["transfer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"transfer.vue","sourceRoot":"src/pages/Dashboard","sourcesContent":["<template>\r\n  <div class=\"md-layout\">\r\n    <div class=\"md-layout-item\">\r\n      <md-card>\r\n        <md-card-header class=\"md-card-header-icon md-card-header-green\">\r\n          <div class=\"card-icon\">\r\n            <md-icon>assignment</md-icon>\r\n          </div>\r\n          <h4 class=\"title\">Recent transaction</h4>\r\n        </md-card-header>\r\n        <md-card-content>\r\n          <md-table\r\n            :value=\"queriedData\"\r\n            :md-sort.sync=\"currentSort\"\r\n            :md-sort-order.sync=\"currentSortOrder\"\r\n            :md-sort-fn=\"customSort\"\r\n            class=\"paginated-table table-striped table-hover\"\r\n          >\r\n            <md-table-toolbar>\r\n              <md-field>\r\n                <label for=\"pages\">Per page</label>\r\n                <md-select v-model=\"pagination.perPage\" name=\"pages\">\r\n                  <md-option\r\n                    v-for=\"item in pagination.perPageOptions\"\r\n                    :key=\"item\"\r\n                    :label=\"item\"\r\n                    :value=\"item\"\r\n                  >\r\n                    {{ item }}\r\n                  </md-option>\r\n                </md-select>\r\n              </md-field>\r\n\r\n              <md-field>\r\n                <md-input\r\n                  type=\"search\"\r\n                  class=\"mb-3\"\r\n                  clearable\r\n                  style=\"width: 200px,\r\n                  height:2px\"\r\n                  placeholder=\"Search records\"\r\n                  v-model=\"searchQuery\"\r\n                >\r\n                </md-input>\r\n              </md-field>\r\n            </md-table-toolbar>\r\n \r\n            <md-table-row slot=\"md-table-row\" slot-scope=\"{ item }\"  style=\"height:2px;\">\r\n              \r\n              <md-table-cell md-label=\"Name\" md-sort-by=\"name\" >\r\n               {{ transactName.address}}    {{ transactName[item.to].lastName}} \r\n              </md-table-cell>\r\n              <md-table-cell md-label=\"Date\" md-sort-by=\"email\">{{\r\n                (item.timestamp * 1)  | moment('YYYY-MM-DD')\r\n              }}</md-table-cell>\r\n              <md-table-cell md-label=\"Received\">{{ item.value }}</md-table-cell>\r\n              <md-table-cell md-label=\"Sent\">{{ item.value }}</md-table-cell>\r\n              <md-table-cell md-label=\"Actions\">\r\n                <md-button\r\n                  class=\"md-just-icon md-info md-simple\"\r\n                  @click.native=\"handleLike(item)\"\r\n                >\r\n                  <md-icon>favorite</md-icon>\r\n                </md-button>\r\n                <md-button\r\n                  class=\"md-just-icon md-warning md-simple\"\r\n                  @click.native=\"handleEdit(item)\"\r\n                >\r\n                  <md-icon>dvr</md-icon>\r\n                </md-button>\r\n                <md-button\r\n                  class=\"md-just-icon md-danger md-simple\"\r\n                  @click.native=\"handleDelete(item)\"\r\n                >\r\n                  <md-icon>close</md-icon>\r\n                </md-button>\r\n              </md-table-cell>\r\n\r\n          \r\n            </md-table-row>\r\n           \r\n          </md-table>\r\n          <div class=\"footer-table md-table\">\r\n            <table>\r\n              <tfoot>\r\n                <tr>\r\n                  <th\r\n                    v-for=\"item in footerTable\"\r\n                    :key=\"item.name\"\r\n                    class=\"md-table-head\"\r\n                  >\r\n                    <div class=\"md-table-head-container md-ripple md-disabled\">\r\n                      <div class=\"md-table-head-label\">\r\n                        {{ item }}\r\n                      </div>\r\n                    </div>\r\n                  </th>\r\n                </tr>\r\n              </tfoot>\r\n            </table>\r\n          </div>\r\n        </md-card-content>\r\n        <md-card-actions md-alignment=\"space-between\">\r\n          <div class=\"\">\r\n            <p class=\"card-category\">\r\n              Showing {{ from + 1 }} to {{ to }} of {{ total }} entries\r\n            </p>\r\n          </div>\r\n          <pagination\r\n            class=\"pagination-no-border pagination-success\"\r\n            v-model=\"pagination.currentPage\"\r\n            :per-page=\"pagination.perPage\"\r\n            :total=\"total\"\r\n          >\r\n          </pagination>\r\n        </md-card-actions>\r\n      </md-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Pagination } from \"@/components\";\r\n// import users from \"./users\";\r\nimport Fuse from \"fuse.js\";\r\nimport swal from \"sweetalert2\";\r\nimport axios from 'axios';\r\n// const params = require('../_helpers/params.js');\r\n// const CONFIG = params.params; \r\n\r\nexport default {\r\n  components: {\r\n    Pagination\r\n  },\r\n  created () {\r\n            const token = window.localStorage.getItem('token');        \r\n            let user = JSON.parse(localStorage.getItem('user'));\r\n            var app=this;\r\n                axios.get(\"http://localhost:3201/api/user\",{headers:{'x-access-token': token}})\r\n                    .then(res => {\r\n                        app.add = res.data.data.address\r\n                        app.userArray();\r\n            })\r\n       },\r\n  computed: {\r\n    /***\r\n     * Returns a page from the searched data or the whole data. Search is performed in the watch section below\r\n     */\r\n    queriedData() {\r\n      let result = this.tableData;\r\n      if (this.searchedData.length > 0) {\r\n        result = this.searchedData;\r\n      }\r\n      return result.slice(this.from, this.to);\r\n    },\r\n    to() {\r\n      let highBound = this.from + this.pagination.perPage;\r\n      if (this.total < highBound) {\r\n        highBound = this.total;\r\n      }\r\n      return highBound;\r\n    },\r\n    from() {\r\n      return this.pagination.perPage * (this.pagination.currentPage - 1);\r\n    },\r\n    total() {\r\n      return this.searchedData.length > 0\r\n        ? this.searchedData.length\r\n        : this.tableData.length;\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      currentSort: \"name\",\r\n      currentSortOrder: \"asc\",\r\n      pagination: {\r\n        perPage: 5,\r\n        currentPage: 1,\r\n        perPageOptions: [5, 10, 25, 50],\r\n        total: 0\r\n      },\r\n    //   footerTable: [\"Name\", \"Date\", \"Received\", \"Sent\", \"Actions\"],\r\n      searchQuery: \"\",\r\n      propsToSearch: [\"name\"],\r\n      tableData: [],\r\n       transactName:[],\r\n      searchedData: [],\r\n      fuseSearch: null\r\n    };\r\n  },\r\n  methods: {\r\n    userArray () {\r\n            let self = this\r\n            const token = window.localStorage.getItem('token');\r\n            let user = JSON.parse(localStorage.getItem('user'));\r\n\r\n            axios.get(\"http://localhost:3201/api/userData\",{headers:{'x-access-token': token}})\r\n                .then(res => {\r\n                     console.log(res)\r\n                     console.log(res.data.data.address)\r\n                     self.transactName = res.data.data         \r\n                     console.log(self.transactName ,\"gydut\")           \r\n                     axios.get(\"http://localhost:3201/api/recentTrans\",{headers:{'x-access-token': token}})\r\n                        .then(res => {\r\n                            console.log('TRANS',res)\r\n                            self.tableData = res.data.data\r\n                         })\r\n            })\r\n        },\r\n\r\n\r\n         getName (item) {\r\n            let address;\r\n              if(this.add === item.to){\r\n                address = item.from;\r\n              }else{\r\n                address = item.to\r\n              }\r\n\r\n            let user =  this.transactName[address];\r\n            //  console.log(\"user\", user.companyName)\r\n              if(!user){\r\n                return address;\r\n              }\r\n              else if((user.firstName)||(user.lastName)) {\r\n                return (user.firstName +' '+user.lastName)\r\n              }\r\n              else if (user.companyName) {\r\n                return user.companyName\r\n              } \r\n        },\r\n    customSort(value) {\r\n      return value.sort((a, b) => {\r\n        const sortBy = this.currentSort;\r\n        if (this.currentSortOrder === \"desc\") {\r\n          return a[sortBy].localeCompare(b[sortBy]);\r\n        }\r\n        return b[sortBy].localeCompare(a[sortBy]);\r\n      });\r\n    },\r\n    handleLike(item) {\r\n      swal({\r\n        title: `You liked ${item.name}`,\r\n        buttonsStyling: false,\r\n        type: \"success\",\r\n        confirmButtonClass: \"md-button md-success\"\r\n      });\r\n    },\r\n    handleEdit(item) {\r\n  console.log(item)\r\n\r\n\r\n  var finalhash = item.hash\r\n            popupCenter(\r\n               \"http://explorer.evenscoin.io/tx/\"+finalhash,'myPop1',850,500\r\n            );\r\n            function popupCenter(url, title, w, h) {\r\n\t\t\t\tvar left = (screen.width/2)-(w/2);\r\n\t\t\t\tvar top = (screen.height/2)-(h/2);\r\n\t\t\t\treturn window.open(url, title, 'toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width='+w+', height='+h+', top='+top+', left='+left);\r\n            }\r\n     \r\n    },\r\n    handleDelete(item) {\r\n      swal({\r\n        title: \"Are you sure?\",\r\n        text: `You won't be able to revert this!`,\r\n        type: \"warning\",\r\n        showCancelButton: true,\r\n        confirmButtonClass: \"md-button md-success btn-fill\",\r\n        cancelButtonClass: \"md-button md-danger btn-fill\",\r\n        confirmButtonText: \"Yes, delete it!\",\r\n        buttonsStyling: false\r\n      }).then(result => {\r\n        if (result.value) {\r\n          this.deleteRow(item);\r\n          swal({\r\n            title: \"Deleted!\",\r\n            text: `You deleted ${item.name}`,\r\n            type: \"success\",\r\n            confirmButtonClass: \"md-button md-success btn-fill\",\r\n            buttonsStyling: false\r\n          });\r\n        }\r\n      });\r\n    },\r\n    deleteRow(item) {\r\n      let indexToDelete = this.tableData.findIndex(\r\n        tableRow => tableRow.id === item.id\r\n      );\r\n      if (indexToDelete >= 0) {\r\n        this.tableData.splice(indexToDelete, 1);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    // Fuse search initialization.\r\n    this.fuseSearch = new Fuse(this.tableData, {\r\n      keys: [\"name\", \"email\"],\r\n      threshold: 0.3\r\n    });\r\n  },\r\n  watch: {\r\n    /**\r\n     * Searches through the table data by a given query.\r\n     * NOTE: If you have a lot of data, it's recommended to do the search on the Server Side and only display the results here.\r\n     * @param value of the query\r\n     */\r\n    searchQuery(value) {\r\n      let result = this.tableData;\r\n      if (value !== \"\") {\r\n        result = this.fuseSearch.search(this.searchQuery);\r\n      }\r\n      this.searchedData = result;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n.md-card .md-card-actions{\r\n  border: 0;\r\n  margin-left: 20px;\r\n  margin-right: 20px;\r\n}\r\n.md-table-row{\r\n  height:2px;\r\n}\r\n\r\n</style>\r\n"]}]}